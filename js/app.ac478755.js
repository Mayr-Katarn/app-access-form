(function(e){function t(t){for(var i,n,o=t[0],u=t[1],l=t[2],d=0,v=[];d<o.length;d++)n=o[d],Object.prototype.hasOwnProperty.call(a,n)&&a[n]&&v.push(a[n][0]),a[n]=0;for(i in u)Object.prototype.hasOwnProperty.call(u,i)&&(e[i]=u[i]);c&&c(t);while(v.length)v.shift()();return r.push.apply(r,l||[]),s()}function s(){for(var e,t=0;t<r.length;t++){for(var s=r[t],i=!0,o=1;o<s.length;o++){var u=s[o];0!==a[u]&&(i=!1)}i&&(r.splice(t--,1),e=n(n.s=s[0]))}return e}var i={},a={app:0},r=[];function n(t){if(i[t])return i[t].exports;var s=i[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=e,n.c=i,n.d=function(e,t,s){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(s,i,function(t){return e[t]}.bind(null,i));return s},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],u=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var c=u;r.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},3953:function(e,t,s){"use strict";s("564a")},"564a":function(e,t,s){},"56d7":function(e,t,s){"use strict";s.r(t);s("e260"),s("e6cf"),s("cca6"),s("a79d");var i=s("2b0e"),a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"app"}},[s("Form")],1)},r=[],n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"block"},[s("div",{staticClass:"container"},[s("h3",[e._v("Основная информация:")]),s("div",{staticClass:"element"},[s("label",{attrs:{for:"fio"}},[e._v("ФИО")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.fio,expression:"user.fio"}],class:{error:e.isFioTouched&&(!e.user.fio||!e.isFioValid)},attrs:{id:"fio",type:"text"},domProps:{value:e.user.fio},on:{blur:function(t){e.isFioTouched=!0},input:function(t){t.target.composing||e.$set(e.user,"fio",t.target.value)}}}),s("div",{staticClass:"element__info"},[!e.user.fio&&e.isFioTouched?s("span",[e._v("Необходимо указать ФИО")]):!e.isFioValid&&e.isFioTouched?s("span",[e._v("ФИО должно содержать только буквы")]):e._e()])]),s("div",{staticClass:"element"},[s("label",{attrs:{for:"phone"}},[e._v("Контактный телефон")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.phone,expression:"user.phone"}],class:{error:e.isPhoneTouched&&(!e.user.phone||!e.isPhoneValid)},attrs:{id:"phone",type:"text"},domProps:{value:e.user.phone},on:{blur:function(t){e.isPhoneTouched=!0},input:function(t){t.target.composing||e.$set(e.user,"phone",t.target.value)}}}),s("div",{staticClass:"element__info"},[!e.user.phone&&e.isPhoneTouched?s("span",[e._v("Необходимо указать номер телефон")]):!e.isPhoneValid&&e.isPhoneTouched?s("span",[e._v("Номер телефона должен начинаться с '+' и не содержать букв или символов кроме '( ) -'")]):e._e()])]),s("div",{staticClass:"element"},[s("label",{attrs:{for:"email"}},[e._v("E-mail")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.email,expression:"user.email"}],class:{error:e.isEmailTouched&&(!e.user.emailfio||!e.isEmailValid)},attrs:{id:"email",type:"text"},domProps:{value:e.user.email},on:{blur:function(t){e.isEmailTouched=!0},input:function(t){t.target.composing||e.$set(e.user,"email",t.target.value)}}}),s("div",{staticClass:"element__info"},[!e.user.email&&e.isEmailTouched?s("span",[e._v("Необходимо указать E-mail")]):!e.isEmailValid&&e.isEmailTouched?s("span",[e._v("E-mail указан не верно")]):e._e()])]),s("h3",[e._v("Проверка доступности региона/города:")]),s("div",{staticClass:"element"},[s("label",{attrs:{for:"country"}},[e._v("Страна")]),s("select",{directives:[{name:"model",rawName:"v-model",value:e.user.country,expression:"user.country"}],attrs:{id:"country"},on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.user,"country",t.target.multiple?s:s[0])}}},[s("option",{attrs:{disabled:"",value:""}},[e._v("Выберите вариант")]),e._l(e.countries,(function(t){return s("option",{key:t.id,domProps:{value:t}},[e._v(e._s(t.name))])}))],2)]),s("div",{directives:[{name:"show",rawName:"v-show",value:e.areas.length,expression:"areas.length"}],staticClass:"element"},[s("label",{attrs:{for:"area"}},[e._v("Регион")]),s("select",{directives:[{name:"model",rawName:"v-model",value:e.user.area,expression:"user.area"}],attrs:{id:"area"},on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.user,"area",t.target.multiple?s:s[0])}}},[s("option",{attrs:{disabled:"",value:""}},[e._v("Выберите вариант")]),e._l(e.areas,(function(t){return s("option",{key:t.id,domProps:{value:t}},[e._v(e._s(t.name))])}))],2)]),s("div",{directives:[{name:"show",rawName:"v-show",value:e.cities,expression:"cities"}],staticClass:"element"},[s("label",{attrs:{for:"city"}},[e._v("Город")]),s("select",{directives:[{name:"model",rawName:"v-model",value:e.user.city,expression:"user.city"}],attrs:{id:"city"},on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.user,"city",t.target.multiple?s:s[0])}}},[s("option",{attrs:{disabled:"",value:""}},[e._v("Выберите вариант")]),e._l(e.user.area.areas,(function(t){return s("option",{key:t.id,domProps:{value:t}},[e._v(e._s(t.name))])}))],2)]),s("div",{directives:[{name:"show",rawName:"v-show",value:e.validate,expression:"validate"}],staticClass:"element"},[s("div",{staticClass:"element__info"},[s("h4",{class:{denied:!e.access}},[e._v(e._s(e.accessMsg))])])]),s("div",{staticClass:"element"},[s("button",{directives:[{name:"show",rawName:"v-show",value:e.validate,expression:"validate"}]},[e._v(e._s(e.accessBtnMsg))])])])])},o=[],u=(s("d3b7"),s("53ca")),l=/^[-a-z0-9!#$%&'*+/=?^_`{|}~]+(?:\.[-a-z0-9!#$%&'*+/=?^_`{|}~]+)*@(?:[a-z0-9]([-a-z0-9]{0,61}[a-z0-9])?\.)*(?:aero|arpa|asia|biz|cat|com|coop|edu|gov|info|int|jobs|mil|mobi|museum|name|net|org|pro|tel|travel|[a-z][a-z])$/,c=/^([+][0-9\s-()]{3,25})/i,d=/^[ '\x2DA-Za-z\u0410-\u044F\u0451]+['A-Za-z\u0401\u0410-\u044F\u0451]?$/,v={data:function(){return{user:{fio:"",phone:"",email:"",country:"",area:"",city:""},countries:[],areas:[],cities:!1,isCountryValid:!1,isFioTouched:!1,isPhoneTouched:!1,isEmailTouched:!1,access:null,accessMsg:"",accessBtnMsg:""}},watch:{"user.country":function(){var e=this;this.user.area="",this.user.city="",this.isCountryValid=!1,this.cities=!1,this.user.country&&fetch(this.user.country.url).then((function(e){return e.json()})).then((function(t){e.areas=t.areas,t.areas.length||e.fetchAccess()}))},"user.area":function(){this.user.city="",this.user.area.areas.length?(this.cities=!0,this.isCountryValid=!1):(this.cities=!1,this.fetchAccess())},"user.city":function(){"object"===Object(u["a"])(this.user.city)?this.fetchAccess():this.isCountryValid=!1}},computed:{isFioValid:function(){return d.test(this.user.fio)},isPhoneValid:function(){return c.test(this.user.phone)},isEmailValid:function(){return l.test(this.user.email)},validate:function(){return this.isFioValid&&this.isPhoneValid&&this.isEmailValid&&this.isCountryValid}},methods:{fetchAccess:function(){var e=this;setTimeout((function(){var t=Math.floor(2*Math.random());0===t?(e.access=!1,e.accessMsg='"Лига роботов" недоступна в данном городе',e.accessBtnMsg="Уведомить, если освободится"):(e.access=!0,e.accessMsg='Вы можете открыть "Лигу роботов" в данном городе!',e.accessBtnMsg="Отправить заявку"),e.isCountryValid=!0}),500)}},created:function(){var e=this;fetch("https://api.hh.ru/areas/countries").then((function(e){return e.json()})).then((function(t){e.countries=t}))}},p=v,h=(s("3953"),s("2877")),f=Object(h["a"])(p,n,o,!1,null,null,null),m=f.exports,_={name:"App",components:{Form:m}},y=_,g=Object(h["a"])(y,a,r,!1,null,null,null),b=g.exports;i["a"].config.productionTip=!1,new i["a"]({render:function(e){return e(b)}}).$mount("#app")}});
//# sourceMappingURL=app.ac478755.js.map